{"openapi":"3.0.0","servers":[{"description":"FastPix Video APIs","url":"https://v1.fastpix.io"}],"info":{"description":"Media APIs provides a set of API endpoints that enable developers to manage video and audio content on the FastPix platform. These endpoints are designed for creating, retrieving, updating, and deleting media files, as well as handling metadata and playback settings. This functionality is crucial for any video-centric product or application that serves video on demand (VOD) or audio on demand (AOD) content, allowing developers to programmatically manage their media library.\n\n#### How media APIs work \n\n\nThese endpoints allow developers to automate the process of uploading media, managing playback permissions, and customizing the user experience. With the ability to create media from URLs, upload videos directly from devices, add audio or subtitle tracks, and manage playback IDs, developers can build scalable and flexible VOD solutions. The Media APIs ensure that content is easily accessible, customizable, and ready for distribution to users.\n#### Use case scenarios\n\n**Building a video-on-demand platform:** Developers can use these APIs to manage video libraries for streaming services, allowing users to watch content on demand. \n\n**Media management for e-learning platforms:** Instructors can upload lecture videos, update content metadata, and control playback settings for students using these endpoints. \n\n**Adding multiple language tracks to videos:** \n  Developers can append additional audio or subtitle tracks to media for a global audience, providing a personalized viewing experience. \n    ","version":"1.0.0","title":"VIDEO ON DEMAND API","contact":{"email":"support@fastpix.io"}},"paths":{"/on-demand":{"post":{"security":[{"BasicAuth":[]}],"tags":["Input video"],"summary":"Create media from URL","description":"This endpoint allows developers or users to create a new video or audio media in FastPix using a publicly accessible URL. FastPix will fetch the media from the provided URL, process it, and store it on the platform for use. \n\n\n\n#### Public URL requirement:\n\n\n  The provided URL must be publicly accessible and should point to a video stored in one of the following supported formats: .m4v, .ogv, .mpeg, .mov, .3gp, .f4v, .rm, .ts, .wtv, .avi, .mp4, .wmv, .webm, .mts, .vob, .mxf, asf, m2ts \n\n \n\n#### Supported storage types:\n\nThe URL can originate from various cloud storage services or content delivery networks (CDNs) such as: \n\n\n* **Amazon S3:** URLs from Amazon's Simple Storage Service. \n\n* **Google Cloud Storage:** URLs from Google Cloud's storage solution. \n\n* **Azure Blob Storage:** URLs from Microsoft's Azure storage. \n\n* **Public CDNs:** URLs from public content delivery networks that host video files. \n\nUpon successful creation, the API returns an id that should be retained for future operations related to this media. \n \n#### How it works\n \n\n1. Send a POST request to the /media endpoint with the media URL (typically a video or audio file) and optional media settings. \n\n2. FastPix uploads the video from the provided URL to its storage. \n\n3. Receive a response containing the unique id for the newly created media item. \n\n4. Use the id in subsequent API calls, such as checking the status of the media with the **Get Media by ID** endpoint to determine when the media is ready for playback. \n\nFastPix uses webhooks to tell your application about things that happen in the background, outside of the API regular request flow. For instance, once the media file is created (but not yet processed or encoded), we’ll shoot a POST message to the address you give us with the webhook event video.media.created. \n\n\nOnce processing is done you can look for the events video.media.ready and video.media.failed to see the status of your new media file.\n\n#### Use case scenario\n \n\n* **Use case:** A developer wants to integrate a user-generated content platform where users can upload links to their videos hosted on third-party platforms like AWS or Google Cloud Storage. This endpoint is used to create media directly from those URLs. \n\n\n* **Detailed example:** \nSay you’re building an online learning platform where instructors upload video URLs hosted on their private cloud servers. By providing the video URL to this endpoint, the platform processes and adds it to your media library, ready for playback. \n","operationId":"create-media","requestBody":{"content":{"application/json":{"schema":{"required":["playbackPolicy","accessPolicy","inputs"],"properties":{"inputs":{"type":"array","description":"The Input will consist of url, startTime, endTime, type, languageCode, name, and closedCaption.\n","items":{"type":"object","required":["url","type"],"properties":{"type":{"type":"string","example":"video","description":"Defines the type of input. This option is mandatory. Possible values are Video, audio, text, and watermark.\n"},"url":{"type":"string","example":"https://static.fastpix.io/sample.mp4","description":"The url hosts the media file for FastPix, which needs to be downloaded to use further. It supports formats like MP3, MP4, MOV, MKV, or TS, and includes text tracks for subtitles/CC (SRT file). While FastPix can handle various audio and video formats and codecs, using standard inputs can help with optimal processing speed.\n"},"startTime":{"type":"number","example":"0","description":"Start time indicates where encoding should begin within the video file. For example, if you want to encode a segment from 3 minutes (180 seconds) to 6 minutes (360 seconds) in a 10-minute (600 seconds) video, the start time is 3 minutes (180 seconds). Note: Start time is always mentioned in seconds.\n"},"endTime":{"type":"number","example":"60","description":"End time indicates where encoding should end within the video file. For example, if you want to encode a segment from 3 minutes (180 seconds) to 6 minutes (360 seconds) in a 10-minute (600 seconds) video, the end time is 6 minutes (360 seconds). Note: End time is always mentioned in seconds.\n"},"introUrl":{"type":"string","example":"https://static.fastpix.io/sample.mp4","description":"The url of the intro video which is to be added at the start of the video.\n"},"outroUrl":{"type":"string","example":"https://static.fastpix.io/sample.mp4","description":"The url of the outro video which is to be added at the end of the video.\n"},"expungeSegments":{"type":"array","description":"The list of the startTime-endTime of the segments to be removed from the actual video.\n","items":{"type":"string","example":"4-6"},"example":["4-6","15-19"]},"watermark":{"type":"object","properties":{"type":{"type":"string","enum":["watermark"],"description":"Type of overlay (currently only supports 'watermark').","example":"watermark"},"url":{"type":"string","format":"uri","description":"URL of the watermark image.","example":"https://static.fastpix.io/watermark-4k.png"},"placement":{"type":"object","properties":{"xAlign":{"type":"string","enum":["left","center","right"],"description":"Horizontal alignment of the watermark.","example":"left"},"xMargin":{"type":"string","description":"Horizontal margin from the edge of the video.","example":"10%"},"yAlign":{"type":"string","enum":["top","middle","bottom"],"description":"Vertical alignment of the watermark.","example":"top"},"yMargin":{"type":"string","description":"Vertical margin from the edge of the video.","example":"10%"}}},"width":{"type":"string","description":"Width of the watermark in percentage or pixels.","example":"25%"},"height":{"type":"string","description":"Height of the watermark in percentage or pixels.","example":"25%"},"opacity":{"type":"string","description":"Opacity of the watermark in percentage.","example":"80%"}}},"audio":{"type":"object","properties":{"type":{"type":"string","enum":["audio"],"description":"Type of overlay (currently only supports 'audio').","example":"audio"},"swapTrackUrl":{"type":"string","format":"uri","description":"URL of the audio track to replace the existing audio in the video.","example":"https://file-examples.com/storage/fe0e9b723466913cf9611b7/2017/11/file_example_MP3_700KB.mp3"},"imposeTracks":{"type":"array","description":"List of additional audio tracks to overlay on the video.","items":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the audio track to impose on the video.","example":"https://muxed.s3.amazonaws.com/example-impose-audio-track.m4a"},"startTime":{"type":"integer","description":"Start time (in seconds) of the imposed audio in the video.","example":0},"endTime":{"type":"integer","description":"End time (in seconds) of the imposed audio in the video.","example":5},"fadeInLevel":{"type":"integer","description":"Level of fade-in effect (in seconds) at the start of the imposed audio.","example":1},"fadeOutLevel":{"type":"integer","description":"Level of fade-out effect (in seconds) at the end of the imposed audio.","example":4}}}}}}}}},"metadata":{"type":"object","example":{"key1":"value1"},"description":"You can search for videos with specific key-value pairs using metadata, when you tag a video in \"key\" : \"value\" pairs. Dynamic Metadata allows you to define a key that allows any value pair. You can have a maximum of 255 characters and up to 10 entries are allowed.\n"},"subtitle":{"type":"object","description":"Generates subtitle files for audio/video files.\n","properties":{"name":{"type":"string","example":"english","description":"Name of the language in which the subtitles will be generated.\n"},"metadata":{"type":"object","example":{"key1":"value1"},"description":"You can search for videos with specific key-value pairs using metadata, when you tag a video in \"key\" : \"value\" pairs. Dynamic Metadata allows you to define a key that allows any value pair. You can have a maximum of 255 characters and up to 10 entries are allowed.\n"},"languageCode":{"type":"string","example":"en","enum":["en","it","pl","es","fr","ru","nl"],"description":"Language codes are concise, standardized symbols that denote languages, utilizing either two or three characters for identification. The language code must be compliant with the BCP 47 standard to ensure compatibility. (for text only).\n"}}},"accessPolicy":{"type":"string","example":"public","enum":["public","private","drm"],"description":"Determines whether access to the streamed content is kept private or available to all.\n"},"mp4Support":{"type":"string","example":"capped_4k","enum":["capped_4k","audioOnly","audioOnly,capped_4k"],"description":"“capped_4k\": Generates an mp4 video file up to 4k resolution \"audioOnly\": Generates an m4a audio file of the media file \"audioOnly,capped_4k\": Generates both video and audio media files for offline viewing\n"},"optimizeAudio":{"type":"boolean","default":false,"example":true,"enum":[true,false],"description":"normalize volume of the audio track. This is available for pre-recorded content only. \n"},"maxResolution":{"type":"string","example":"1080p","default":"1080p","enum":["2160p","1440p","1080p","720p","480p","360p"],"description":"The maximum resolution tier determines the highest quality your media will be available in.\n"}},"example":{"inputs":[{"type":"video","url":"https://static.fastpix.io/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","startTime":0,"endTime":60},{"type":"watermark","url":"https://static.fastpix.io/watermark-4k.png","placement":{"xAlign":"left","xMargin":"10%","yAlign":"top","yMargin":"10%"}}],"metadata":{"key1":"value1"},"subtitles":{"name":"name","metadata":{"key1":"value1"},"languageCode":"en"},"accessPolicy":"public","mp4Support":"capped_4k","optimizeAudio":true,"maxResolution":"1080p"},"x-readme-ref-name":"CreateMediaRequest"},"example":{"inputs":[{"type":"video","url":"https://static.fastpix.io/sample.mp4","startTime":0,"endTime":60,"introUrl":"https://static.fastpix.io/sample.mp4","outroUrl":"https://static.fastpix.io/sample.mp4","expungeSegments":["4-6","15-19"]},{"type":"watermark","url":"https://static.fastpix.io/watermark-4k.png","placement":{"xAlign":"left","xMargin":"10%","yAlign":"top","yMargin":"10%"},"width":"25%","height":"25%","opacity":"80%"},{"type":"audio","swapTrackUrl":"https://file-examples.com/storage/fe0e9b723466913cf9611b7/2017/11/file_example_MP3_700KB.mp3","imposeTracks":[{"url":"https://muxed.s3.amazonaws.com/example-impose-audio-track.m4a","startTime":0,"endTime":5,"fadeInLevel":1,"fadeOutLevel":4}]}],"metadata":{"key1":"value1"},"subtitles":{"name":"name","metadata":{"key1":"value1"},"languageCode":"en"},"accessPolicy":"public","mp4Support":"capped_4k","optimizeAudio":true,"maxResolution":"1080p"}}},"description":"Request body for uploading a video media from URL"},"responses":{"201":{"description":"Media is created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true,"description":"Demonstrates whether the request is successful or not."},"data":{"description":"Displays the result of the request.","type":"array","items":{"properties":{"id":{"type":"string","example":"iyuU4HFxhJg1vMHM2uztnJut1hIJBuNBSzJionwUV7c","description":"The Media is assigned a universal unique identifier, which can contain a maximum of 255 characters."},"trial":{"type":"boolean","default":true,"example":true,"enum":[true,false],"description":"FastPix allows for a free trial. Create as many media files as you like during the trial period. Remember, each clip can only be 10 seconds long and will be deleted after 24 hours. Also, all trial content will have the FastPix logo watermark.\n"},"status":{"type":"string","example":"preparing","enum":["preparing","ready","failed","created"],"description":"Determines the media's status, which can be one of the possible values."},"createdAt":{"type":"number","example":"2023-10-20T10:50:34.594Z","description":"Time the media was created, defined as a localDateTime (UTC Time)."},"updatedAt":{"type":"number","example":"2023-10-20T10:50:34.594Z","description":"Time the media was updated, defined as a localDateTime (UTC Time)."},"playbackIds":{"type":"array","items":{"type":"object","description":"A collection of Playback ID objects utilized for crafting HLS playback urls.","properties":{"id":{"type":"string","format":"uuid","example":"6ta85f64-5717-4562-b3fc-2c963f66afa6","description":"A unique identifier is generated by FastPix for the playbacks."},"accessPolicy":{"type":"string","example":"public","enum":["public","private","drm"],"description":"Determines if access to the streamed content is kept private or available to all. "}},"x-readme-ref-name":"PlaybackId"},"description":"A collection of Playback ID objects utilized for crafting HLS playback URLs."},"metadata":{"type":"object","example":{"key1":"value1"},"description":"You can search for videos with specific key value pairs using metadata, when you tag a video in \"key\" : \"value\" pairs. Dynamic Metadata allows you to define a key that allows any value pair. You can have maximum of 255 characters and upto 10 entries are allowed."},"maxResolution":{"type":"string","example":"1080p","default":"1080p","enum":["2160p","1440p","1080p","720p","480p","360p"],"description":"The maximum resolution tier determines the highest quality your media will be available in."}},"x-readme-ref-name":"CreateMediaResponse"}}},"example":{"success":true,"data":[{"id":"iyuU4HFxhJg1vMHM2uztnJut1hIJBuNBSzJionwUV7c","trial":true,"status":"created","createdAt":"2023-10-20T10:50:34.594302Z","updatedAt":"2023-10-20T10:50:34.594302Z","playbackIds":[{"id":"6ta85f64-5717-4562-b3fc-2c963f66afa6","accessPolicy":"public"}],"metadata":{"key1":"value1"},"mp4Support":"capped_4k","maxResolution":"1080p"}]}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false,"description":"Demonstrates whether the request is successful or not."},"error":{"type":"object","description":"Displays details about the reasons behind the request's failure.","properties":{"code":{"type":"number","example":400,"description":"Displays the error code indicating the type of the error."},"message":{"type":"string","example":"Bad Request","description":"A descriptive message providing more details for the error."}}}},"example":{"success":false,"error":{"code":400,"message":"Upgrade to remove all restrictions video deletion after 24 hours"}},"x-readme-ref-name":"BadRequest"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Demonstrates whether the request is successful or not."},"error":{"type":"object","description":"Displays details about the reasons behind the request's failure.","properties":{"code":{"type":"integer","example":401,"description":"Displays the error code indicating the type of the error."},"message":{"type":"string","example":"Unauthorized","description":"A descriptive message providing more details for the error."}}}},"example":{"success":false,"error":{"code":401,"message":"Unauthorized"}},"x-readme-ref-name":"InvalidPermission"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Demonstrates whether the request is successful or not."},"error":{"type":"object","description":"Displays details about the reasons behind the request's failure.","properties":{"code":{"type":"integer","example":403,"description":"Displays the error code indicating the type of the error."},"message":{"type":"string","example":"forbidden","description":"A descriptive message providing more details for the error."}}}},"example":{"success":false,"error":{"code":403,"message":"forbidden"}},"x-readme-ref-name":"Forbidden"}}}},"422":{"description":"Payload Validation Failed","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":null,"description":"Demonstrates whether the request is successful or not."},"error":{"type":"object","description":"Displays details about the reasons behind the request's failure.","properties":{"code":{"type":"integer","example":422,"description":"Displays the error code indicating the type of the error."},"message":{"type":"string","example":"payload validation failed","description":"A descriptive message providing more details for the error."},"fields":{"type":"array","description":"It is an collection of objects, where each object contains information about a specific field and a corresponding error message.","items":{"type":"object","properties":{"field":{"type":"string","example":"fieldName","description":"Displays the specific field associated with the error."},"message":{"type":"string","example":"must not be null","description":"A descriptive message providing more details for the error."}}}}}}},"example":{"success":false,"error":{"code":422,"message":"payload validation failed","fields":[{"field":"fieldName","message":"must not be null"}]}},"x-readme-ref-name":"ValidationErrorResponse"}}}}},"parameters":[{"name":"test","in":"query","required":true,"description":"","schema":{"type":"integer","format":"","default":"test"}}]}}},"components":{"securitySchemes":{"BasicAuth":{"type":"http","scheme":"basic","description":"- Username : Access token id\n- Password : Secret key\n"}}},"x-readme":{"explorer-enabled":true,"proxy-enabled":false}}